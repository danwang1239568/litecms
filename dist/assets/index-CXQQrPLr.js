import{aB as j,n as ot,aj as pe,bF as ce,N as x,af as st,O as ee,H as Oe,bd as at,v as Ze,x as N,a7 as Re,y as _,bo as rt,a5 as lt,bG as it,a6 as ut,by as me,W as Le,r as T,_ as Qe,t as Be,L as ct,e as te,ah as dt,D as de,X as $,G as fe,m as ft,s as Ne,b as D,a8 as vt,C as pt,bH as mt,bn as Et,a as bt,bI as Fe,bk as Pe,bJ as De,aC as we,aw as yt,S as W,o as C,c as R,w as S,a9 as Ee,d as L,F as b,A as He,a2 as ne,z as be,B as oe,a0 as X,ak as Z,aJ as se,f as ye,aa as ge,T as gt,ag as ht,az as Ct,bc as xe,bb as $e,bi as Ue}from"./index-C_bpROGF.js";import{t as Tt,E as wt,u as Ve}from"./_plugin-vue_export-helper-CBPVf6gk.js";import{E as St}from"./el-input-CBmRvMQY.js";const Lt='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',Bt=e=>getComputedStyle(e).position==="fixed"?!1:e.offsetParent!==null,Ke=e=>Array.from(e.querySelectorAll(Lt)).filter(t=>Mt(t)&&Bt(t)),Mt=e=>{if(e.tabIndex>0||e.tabIndex===0&&e.getAttribute("tabIndex")!==null)return!0;if(e.tabIndex<0||e.hasAttribute("disabled")||e.getAttribute("aria-disabled")==="true")return!1;switch(e.nodeName){case"A":return!!e.href&&e.rel!=="ignore";case"INPUT":return!(e.type==="hidden"||e.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},fn=function(e,t,...n){let o;t.includes("mouse")||t.includes("click")?o="MouseEvents":t.includes("key")?o="KeyboardEvent":o="HTMLEvents";const s=document.createEvent(o);return s.initEvent(t,...n),e.dispatchEvent(s),e};let ae;const kt=e=>{var t;if(!j)return 0;if(ae!==void 0)return ae;const n=document.createElement("div");n.className=`${e}-scrollbar__wrap`,n.style.visibility="hidden",n.style.width="100px",n.style.position="absolute",n.style.top="-9999px",document.body.appendChild(n);const o=n.offsetWidth;n.style.overflow="scroll";const s=document.createElement("div");s.style.width="100%",n.appendChild(s);const l=s.offsetWidth;return(t=n.parentNode)==null||t.removeChild(n),ae=o-l,ae};function vn(e,t){if(!j)return;if(!t){e.scrollTop=0;return}const n=[];let o=t.offsetParent;for(;o!==null&&e!==o&&e.contains(o);)n.push(o),o=o.offsetParent;const s=t.offsetTop+n.reduce((v,r)=>v+r.offsetTop,0),l=s+t.offsetHeight,i=e.scrollTop,c=i+e.clientHeight;s<i?e.scrollTop=s:l>c&&(e.scrollTop=l-e.clientHeight)}const At=e=>["",...ot].includes(e);var ue=(e=>(e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL",e))(ue||{});const he=e=>{const t=pe(e)?e:[e],n=[];return t.forEach(o=>{var s;pe(o)?n.push(...he(o)):ce(o)&&((s=o.component)!=null&&s.subTree)?n.push(o,...he(o.component.subTree)):ce(o)&&pe(o.children)?n.push(...he(o.children)):n.push(o)}),n},It=(e,t,n,o)=>{let s={offsetX:0,offsetY:0};const l=r=>{const h=r.clientX,w=r.clientY,{offsetX:E,offsetY:B}=s,a=e.value.getBoundingClientRect(),u=a.left,p=a.top,d=a.width,m=a.height,H=document.documentElement.clientWidth,V=document.documentElement.clientHeight,K=-u+E,J=-p+B,g=H-u-d+E,M=V-p-m+B,k=I=>{let y=E+I.clientX-h,z=B+I.clientY-w;o!=null&&o.value||(y=Math.min(Math.max(y,K),g),z=Math.min(Math.max(z,J),M)),s={offsetX:y,offsetY:z},e.value&&(e.value.style.transform=`translate(${Oe(y)}, ${Oe(z)})`)},A=()=>{document.removeEventListener("mousemove",k),document.removeEventListener("mouseup",A)};document.addEventListener("mousemove",k),document.addEventListener("mouseup",A)},i=()=>{t.value&&e.value&&t.value.addEventListener("mousedown",l)},c=()=>{t.value&&e.value&&t.value.removeEventListener("mousedown",l)},v=()=>{s={offsetX:0,offsetY:0},e.value&&(e.value.style.transform="none")};return x(()=>{st(()=>{n.value?i():c()})}),ee(()=>{c()}),{resetPosition:v}},Ot=(e,t={})=>{at(e)||Tt("[useLockscreen]","You need to pass a ref param to this function");const n=t.ns||Ze("popup"),o=N(()=>n.bm("parent","hidden"));if(!j||Re(document.body,o.value))return;let s=0,l=!1,i="0";const c=()=>{setTimeout(()=>{typeof document>"u"||(ut(document==null?void 0:document.body,o.value),l&&document&&(document.body.style.width=i))},200)};_(e,v=>{if(!v){c();return}l=!Re(document.body,o.value),l&&(i=document.body.style.width),s=kt(n.namespace.value);const r=document.documentElement.clientHeight<document.body.scrollHeight,h=rt(document.body,"overflowY");s>0&&(r||h==="scroll")&&l&&(document.body.style.width=`calc(100% - ${s}px)`),lt(document.body,o.value)}),it(()=>c())},et=e=>{if(!e)return{onClick:me,onMousedown:me,onMouseup:me};let t=!1,n=!1;return{onClick:i=>{t&&n&&e(i),t=n=!1},onMousedown:i=>{t=i.target===i.currentTarget},onMouseup:i=>{n=i.target===i.currentTarget}}};let G=[];const ze=e=>{e.code===Le.esc&&G.forEach(t=>t(e))},Rt=e=>{x(()=>{G.length===0&&document.addEventListener("keydown",ze),j&&G.push(e)}),ee(()=>{G=G.filter(t=>t!==e),G.length===0&&j&&document.removeEventListener("keydown",ze)})},Ce="focus-trap.focus-after-trapped",Te="focus-trap.focus-after-released",Nt="focus-trap.focusout-prevented",Ye={cancelable:!0,bubbles:!1},Ft={cancelable:!0,bubbles:!1},We="focusAfterTrapped",Xe="focusAfterReleased",Pt=Symbol("elFocusTrap"),Me=T(),ve=T(0),ke=T(0);let re=0;const tt=e=>{const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const s=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||s?NodeFilter.FILTER_SKIP:o.tabIndex>=0||o===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t},Ge=(e,t)=>{for(const n of e)if(!Dt(n,t))return n},Dt=(e,t)=>{if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1},Ht=e=>{const t=tt(e),n=Ge(t,e),o=Ge(t.reverse(),e);return[n,o]},$t=e=>e instanceof HTMLInputElement&&"select"in e,F=(e,t)=>{if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),ke.value=window.performance.now(),e!==n&&$t(e)&&t&&e.select()}};function _e(e,t){const n=[...e],o=e.indexOf(t);return o!==-1&&n.splice(o,1),n}const Ut=()=>{let e=[];return{push:o=>{const s=e[0];s&&o!==s&&s.pause(),e=_e(e,o),e.unshift(o)},remove:o=>{var s,l;e=_e(e,o),(l=(s=e[0])==null?void 0:s.resume)==null||l.call(s)}}},Vt=(e,t=!1)=>{const n=document.activeElement;for(const o of e)if(F(o,t),document.activeElement!==n)return},je=Ut(),Kt=()=>ve.value>ke.value,le=()=>{Me.value="pointer",ve.value=window.performance.now()},qe=()=>{Me.value="keyboard",ve.value=window.performance.now()},zt=()=>(x(()=>{re===0&&(document.addEventListener("mousedown",le),document.addEventListener("touchstart",le),document.addEventListener("keydown",qe)),re++}),ee(()=>{re--,re<=0&&(document.removeEventListener("mousedown",le),document.removeEventListener("touchstart",le),document.removeEventListener("keydown",qe))}),{focusReason:Me,lastUserFocusTimestamp:ve,lastAutomatedFocusTimestamp:ke}),ie=e=>new CustomEvent(Nt,{...Ft,detail:e}),Yt=Be({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[We,Xe,"focusin","focusout","focusout-prevented","release-requested"],setup(e,{emit:t}){const n=T();let o,s;const{focusReason:l}=zt();Rt(a=>{e.trapped&&!i.paused&&t("release-requested",a)});const i={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},c=a=>{if(!e.loop&&!e.trapped||i.paused)return;const{code:u,altKey:p,ctrlKey:d,metaKey:m,currentTarget:H,shiftKey:V}=a,{loop:K}=e,J=u===Le.tab&&!p&&!d&&!m,g=document.activeElement;if(J&&g){const M=H,[k,A]=Ht(M);if(k&&A){if(!V&&g===A){const y=ie({focusReason:l.value});t("focusout-prevented",y),y.defaultPrevented||(a.preventDefault(),K&&F(k,!0))}else if(V&&[k,M].includes(g)){const y=ie({focusReason:l.value});t("focusout-prevented",y),y.defaultPrevented||(a.preventDefault(),K&&F(A,!0))}}else if(g===M){const y=ie({focusReason:l.value});t("focusout-prevented",y),y.defaultPrevented||a.preventDefault()}}};ct(Pt,{focusTrapRef:n,onKeydown:c}),_(()=>e.focusTrapEl,a=>{a&&(n.value=a)},{immediate:!0}),_([n],([a],[u])=>{a&&(a.addEventListener("keydown",c),a.addEventListener("focusin",h),a.addEventListener("focusout",w)),u&&(u.removeEventListener("keydown",c),u.removeEventListener("focusin",h),u.removeEventListener("focusout",w))});const v=a=>{t(We,a)},r=a=>t(Xe,a),h=a=>{const u=te(n);if(!u)return;const p=a.target,d=a.relatedTarget,m=p&&u.contains(p);e.trapped||d&&u.contains(d)||(o=d),m&&t("focusin",a),!i.paused&&e.trapped&&(m?s=p:F(s,!0))},w=a=>{const u=te(n);if(!(i.paused||!u))if(e.trapped){const p=a.relatedTarget;!dt(p)&&!u.contains(p)&&setTimeout(()=>{if(!i.paused&&e.trapped){const d=ie({focusReason:l.value});t("focusout-prevented",d),d.defaultPrevented||F(s,!0)}},0)}else{const p=a.target;p&&u.contains(p)||t("focusout",a)}};async function E(){await $();const a=te(n);if(a){je.push(i);const u=a.contains(document.activeElement)?o:document.activeElement;if(o=u,!a.contains(u)){const d=new Event(Ce,Ye);a.addEventListener(Ce,v),a.dispatchEvent(d),d.defaultPrevented||$(()=>{let m=e.focusStartEl;fe(m)||(F(m),document.activeElement!==m&&(m="first")),m==="first"&&Vt(tt(a),!0),(document.activeElement===u||m==="container")&&F(a)})}}}function B(){const a=te(n);if(a){a.removeEventListener(Ce,v);const u=new CustomEvent(Te,{...Ye,detail:{focusReason:l.value}});a.addEventListener(Te,r),a.dispatchEvent(u),!u.defaultPrevented&&(l.value=="keyboard"||!Kt()||a.contains(document.activeElement))&&F(o??document.body),a.removeEventListener(Te,r),je.remove(i)}}return x(()=>{e.trapped&&E(),_(()=>e.trapped,a=>{a?E():B()})}),ee(()=>{e.trapped&&B(),n.value&&(n.value.removeEventListener("keydown",c),n.value.removeEventListener("focusin",h),n.value.removeEventListener("focusout",w),n.value=void 0)}),{onKeydown:c}}});function Wt(e,t,n,o,s,l){return de(e.$slots,"default",{handleKeydown:e.onKeydown})}var Xt=Qe(Yt,[["render",Wt],["__file","focus-trap.vue"]]);const Se="_trap-focus-children",U=[],Je=e=>{if(U.length===0)return;const t=U[U.length-1][Se];if(t.length>0&&e.code===Le.tab){if(t.length===1){e.preventDefault(),document.activeElement!==t[0]&&t[0].focus();return}const n=e.shiftKey,o=e.target===t[0],s=e.target===t[t.length-1];o&&n&&(e.preventDefault(),t[t.length-1].focus()),s&&!n&&(e.preventDefault(),t[0].focus())}},Gt={beforeMount(e){e[Se]=Ke(e),U.push(e),U.length<=1&&document.addEventListener("keydown",Je)},updated(e){$(()=>{e[Se]=Ke(e)})},unmounted(){U.shift(),U.length===0&&document.removeEventListener("keydown",Je)}},_t=ft({mask:{type:Boolean,default:!0},customMaskEvent:Boolean,overlayClass:{type:Ne([String,Array,Object])},zIndex:{type:Ne([String,Number])}}),jt={click:e=>e instanceof MouseEvent},qt="overlay";var Jt=Be({name:"ElOverlay",props:_t,emits:jt,setup(e,{slots:t,emit:n}){const o=Ze(qt),s=v=>{n("click",v)},{onClick:l,onMousedown:i,onMouseup:c}=et(e.customMaskEvent?void 0:s);return()=>e.mask?D("div",{class:[o.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:l,onMousedown:i,onMouseup:c},[de(t,"default")],ue.STYLE|ue.CLASS|ue.PROPS,["onClick","onMouseup","onMousedown"]):vt("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[de(t,"default")])}});const Zt=Jt,Qt=Be({name:"ElMessageBox",directives:{TrapFocus:Gt},components:{ElButton:wt,ElFocusTrap:Xt,ElInput:St,ElOverlay:Zt,ElIcon:pt,...mt},inheritAttrs:!1,props:{buttonSize:{type:String,validator:At},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,overflow:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(e,{emit:t}){const{locale:n,zIndex:o,ns:s,size:l}=Et("message-box",N(()=>e.buttonSize)),{t:i}=n,{nextZIndex:c}=o,v=T(!1),r=bt({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:null,inputValidator:null,inputErrorMessage:"",message:null,modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonLoadingIcon:Fe(Pe),cancelButtonLoadingIcon:Fe(Pe),confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:c()}),h=N(()=>{const f=r.type;return{[s.bm("icon",f)]:f&&De[f]}}),w=Ve(),E=Ve(),B=N(()=>r.icon||De[r.type]||""),a=N(()=>!!r.message),u=T(),p=T(),d=T(),m=T(),H=T(),V=N(()=>r.confirmButtonClass);_(()=>r.inputValue,async f=>{await $(),e.boxType==="prompt"&&f!==null&&y()},{immediate:!0}),_(()=>v.value,f=>{var O,Y;f&&(e.boxType!=="prompt"&&(r.autofocus?d.value=(Y=(O=H.value)==null?void 0:O.$el)!=null?Y:u.value:d.value=u.value),r.zIndex=c()),e.boxType==="prompt"&&(f?$().then(()=>{var Ie;m.value&&m.value.$el&&(r.autofocus?d.value=(Ie=z())!=null?Ie:u.value:d.value=u.value)}):(r.editorErrorMessage="",r.validateError=!1))});const K=N(()=>e.draggable),J=N(()=>e.overflow);It(u,p,K,J),x(async()=>{await $(),e.closeOnHashChange&&window.addEventListener("hashchange",g)}),ee(()=>{e.closeOnHashChange&&window.removeEventListener("hashchange",g)});function g(){v.value&&(v.value=!1,$(()=>{r.action&&t("action",r.action)}))}const M=()=>{e.closeOnClickModal&&I(r.distinguishCancelAndClose?"close":"cancel")},k=et(M),A=f=>{if(r.inputType!=="textarea")return f.preventDefault(),I("confirm")},I=f=>{var O;e.boxType==="prompt"&&f==="confirm"&&!y()||(r.action=f,r.beforeClose?(O=r.beforeClose)==null||O.call(r,f,r,g):g())},y=()=>{if(e.boxType==="prompt"){const f=r.inputPattern;if(f&&!f.test(r.inputValue||""))return r.editorErrorMessage=r.inputErrorMessage||i("el.messagebox.error"),r.validateError=!0,!1;const O=r.inputValidator;if(we(O)){const Y=O(r.inputValue);if(Y===!1)return r.editorErrorMessage=r.inputErrorMessage||i("el.messagebox.error"),r.validateError=!0,!1;if(fe(Y))return r.editorErrorMessage=Y,r.validateError=!0,!1}}return r.editorErrorMessage="",r.validateError=!1,!0},z=()=>{const f=m.value.$refs;return f.input||f.textarea},Ae=()=>{I("close")},nt=()=>{e.closeOnPressEscape&&Ae()};return e.lockScroll&&Ot(v),{...yt(r),ns:s,overlayEvent:k,visible:v,hasMessage:a,typeClass:h,contentId:w,inputId:E,btnSize:l,iconComponent:B,confirmButtonClasses:V,rootRef:u,focusStartRef:d,headerRef:p,inputRef:m,confirmRef:H,doClose:g,handleClose:Ae,onCloseRequested:nt,handleWrapperClick:M,handleInputEnter:A,handleAction:I,t:i}}});function xt(e,t,n,o,s,l){const i=W("el-icon"),c=W("close"),v=W("el-input"),r=W("el-button"),h=W("el-focus-trap"),w=W("el-overlay");return C(),R(gt,{name:"fade-in-linear",onAfterLeave:E=>e.$emit("vanish"),persisted:""},{default:S(()=>[Ee(D(w,{"z-index":e.zIndex,"overlay-class":[e.ns.is("message-box"),e.modalClass],mask:e.modal},{default:S(()=>[L("div",{role:"dialog","aria-label":e.title,"aria-modal":"true","aria-describedby":e.showInput?void 0:e.contentId,class:b(`${e.ns.namespace.value}-overlay-message-box`),onClick:e.overlayEvent.onClick,onMousedown:e.overlayEvent.onMousedown,onMouseup:e.overlayEvent.onMouseup},[D(h,{loop:"",trapped:e.visible,"focus-trap-el":e.rootRef,"focus-start-el":e.focusStartRef,onReleaseRequested:e.onCloseRequested},{default:S(()=>[L("div",{ref:"rootRef",class:b([e.ns.b(),e.customClass,e.ns.is("draggable",e.draggable),{[e.ns.m("center")]:e.center}]),style:He(e.customStyle),tabindex:"-1",onClick:ne(()=>{},["stop"])},[e.title!==null&&e.title!==void 0?(C(),be("div",{key:0,ref:"headerRef",class:b([e.ns.e("header"),{"show-close":e.showClose}])},[L("div",{class:b(e.ns.e("title"))},[e.iconComponent&&e.center?(C(),R(i,{key:0,class:b([e.ns.e("status"),e.typeClass])},{default:S(()=>[(C(),R(oe(e.iconComponent)))]),_:1},8,["class"])):X("v-if",!0),L("span",null,Z(e.title),1)],2),e.showClose?(C(),be("button",{key:0,type:"button",class:b(e.ns.e("headerbtn")),"aria-label":e.t("el.messagebox.close"),onClick:E=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel"),onKeydown:se(ne(E=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"])},[D(i,{class:b(e.ns.e("close"))},{default:S(()=>[D(c)]),_:1},8,["class"])],42,["aria-label","onClick","onKeydown"])):X("v-if",!0)],2)):X("v-if",!0),L("div",{id:e.contentId,class:b(e.ns.e("content"))},[L("div",{class:b(e.ns.e("container"))},[e.iconComponent&&!e.center&&e.hasMessage?(C(),R(i,{key:0,class:b([e.ns.e("status"),e.typeClass])},{default:S(()=>[(C(),R(oe(e.iconComponent)))]),_:1},8,["class"])):X("v-if",!0),e.hasMessage?(C(),be("div",{key:1,class:b(e.ns.e("message"))},[de(e.$slots,"default",{},()=>[e.dangerouslyUseHTMLString?(C(),R(oe(e.showInput?"label":"p"),{key:1,for:e.showInput?e.inputId:void 0,innerHTML:e.message},null,8,["for","innerHTML"])):(C(),R(oe(e.showInput?"label":"p"),{key:0,for:e.showInput?e.inputId:void 0},{default:S(()=>[ye(Z(e.dangerouslyUseHTMLString?"":e.message),1)]),_:1},8,["for"]))])],2)):X("v-if",!0)],2),Ee(L("div",{class:b(e.ns.e("input"))},[D(v,{id:e.inputId,ref:"inputRef",modelValue:e.inputValue,"onUpdate:modelValue":E=>e.inputValue=E,type:e.inputType,placeholder:e.inputPlaceholder,"aria-invalid":e.validateError,class:b({invalid:e.validateError}),onKeydown:se(e.handleInputEnter,["enter"])},null,8,["id","modelValue","onUpdate:modelValue","type","placeholder","aria-invalid","class","onKeydown"]),L("div",{class:b(e.ns.e("errormsg")),style:He({visibility:e.editorErrorMessage?"visible":"hidden"})},Z(e.editorErrorMessage),7)],2),[[ge,e.showInput]])],10,["id"]),L("div",{class:b(e.ns.e("btns"))},[e.showCancelButton?(C(),R(r,{key:0,loading:e.cancelButtonLoading,"loading-icon":e.cancelButtonLoadingIcon,class:b([e.cancelButtonClass]),round:e.roundButton,size:e.btnSize,onClick:E=>e.handleAction("cancel"),onKeydown:se(ne(E=>e.handleAction("cancel"),["prevent"]),["enter"])},{default:S(()=>[ye(Z(e.cancelButtonText||e.t("el.messagebox.cancel")),1)]),_:1},8,["loading","loading-icon","class","round","size","onClick","onKeydown"])):X("v-if",!0),Ee(D(r,{ref:"confirmRef",type:"primary",loading:e.confirmButtonLoading,"loading-icon":e.confirmButtonLoadingIcon,class:b([e.confirmButtonClasses]),round:e.roundButton,disabled:e.confirmButtonDisabled,size:e.btnSize,onClick:E=>e.handleAction("confirm"),onKeydown:se(ne(E=>e.handleAction("confirm"),["prevent"]),["enter"])},{default:S(()=>[ye(Z(e.confirmButtonText||e.t("el.messagebox.confirm")),1)]),_:1},8,["loading","loading-icon","class","round","disabled","size","onClick","onKeydown"]),[[ge,e.showConfirmButton]])],2)],14,["onClick"])]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,["aria-label","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["z-index","overlay-class","mask"]),[[ge,e.visible]])]),_:3},8,["onAfterLeave"])}var en=Qe(Qt,[["render",xt],["__file","index.vue"]]);const Q=new Map,tn=e=>{let t=document.body;return e.appendTo&&(fe(e.appendTo)&&(t=document.querySelector(e.appendTo)),Ue(e.appendTo)&&(t=e.appendTo),Ue(t)||(t=document.body)),t},nn=(e,t,n=null)=>{const o=D(en,e,we(e.message)||ce(e.message)?{default:we(e.message)?e.message:()=>e.message}:null);return o.appContext=n,xe(o,t),tn(e).appendChild(t.firstElementChild),o.component},on=()=>document.createElement("div"),sn=(e,t)=>{const n=on();e.onVanish=()=>{xe(null,n),Q.delete(s)},e.onAction=l=>{const i=Q.get(s);let c;e.showInput?c={value:s.inputValue,action:l}:c=l,e.callback?e.callback(c,o.proxy):l==="cancel"||l==="close"?e.distinguishCancelAndClose&&l!=="cancel"?i.reject("close"):i.reject("cancel"):i.resolve(c)};const o=nn(e,n,t),s=o.proxy;for(const l in e)$e(e,l)&&!$e(s.$props,l)&&(s[l]=e[l]);return s.visible=!0,s};function q(e,t=null){if(!j)return Promise.reject();let n;return fe(e)||ce(e)?e={message:e}:n=e.callback,new Promise((o,s)=>{const l=sn(e,t??q._context);Q.set(l,{options:e,callback:n,resolve:o,reject:s})})}const an=["alert","confirm","prompt"],rn={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};an.forEach(e=>{q[e]=ln(e)});function ln(e){return(t,n,o,s)=>{let l="";return ht(n)?(o=n,l=""):Ct(n)?l="":l=n,q(Object.assign({title:l,message:t,type:"",...rn[e]},o,{boxType:e}),s)}}q.close=()=>{Q.forEach((e,t)=>{t.doClose()}),Q.clear()};q._context=null;const P=q;P.install=e=>{P._context=e._context,e.config.globalProperties.$msgbox=P,e.config.globalProperties.$messageBox=P,e.config.globalProperties.$alert=P.alert,e.config.globalProperties.$confirm=P.confirm,e.config.globalProperties.$prompt=P.prompt};const pn=P;export{pn as E,Pt as F,Zt as a,Xt as b,et as c,Ot as d,he as f,Mt as i,vn as s,fn as t,It as u};
