import{$ as c,r as n,j as g,k as t,o as b,H as e,a7 as k,a8 as V,a9 as v}from"./index-B14M_1DM.js";import{E as w,a as x}from"./el-form-item-ZncFmYZF.js";import{E}from"./el-button-BpVWOTvG.js";import{E as U}from"./el-input-rxOn-7Vc.js";import{_ as y}from"./pageContainer-DBtF8K8s.js";import"./constants-AddMQYT0.js";import"./use-form-item-CxPVW2vE.js";import"./_baseClone-Cj_b_JaC.js";import"./_initCloneObject-DMdQNfhv.js";import"./index-r5W6hzzQ.js";import"./event-HEVJa2N9.js";import"./el-scrollbar-CZWBxg-r.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const $={__name:"userProfile",setup(B){const r=c(),i=async()=>{await r.getUser()},a=n({id:r.user.id,username:r.user.username,nickname:r.user.nickname,email:r.user.email});i();const u=n(null),p={nickname:[{required:!0,message:"请输入用户昵称",trigger:"blur"},{min:2,max:20,message:"长度在 2 到 20 个字符",trigger:"blur"}],email:[{required:!0,message:"请输入用户邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱格式",trigger:"blur"}]},d=async()=>{await u.value.validate(),await V(a.value),await r.getUser(),v.success("成功更新用户信息")};return(I,l)=>{const s=U,m=w,f=E,_=x;return b(),g(y,{title:"基本资料"},{default:t(()=>[e(_,{model:a.value,rules:p,ref_key:"formRef",ref:u,"label-width":"100px",style:{width:"100%","max-width":"400px"}},{default:t(()=>[e(m,{label:"登录名称",prop:"username"},{default:t(()=>[e(s,{disabled:"",modelValue:a.value.username,"onUpdate:modelValue":l[0]||(l[0]=o=>a.value.username=o)},null,8,["modelValue"])]),_:1}),e(m,{label:"用户昵称",prop:"nickname"},{default:t(()=>[e(s,{modelValue:a.value.nickname,"onUpdate:modelValue":l[1]||(l[1]=o=>a.value.nickname=o)},null,8,["modelValue"])]),_:1}),e(m,{label:"用户邮箱",prop:"email"},{default:t(()=>[e(s,{modelValue:a.value.email,"onUpdate:modelValue":l[2]||(l[2]=o=>a.value.email=o)},null,8,["modelValue"])]),_:1}),e(m,{label:""},{default:t(()=>[e(f,{type:"primary",onClick:d},{default:t(()=>l[3]||(l[3]=[k("提交修改")])),_:1})]),_:1})]),_:1},8,["model"])]),_:1})}}};export{$ as default};
