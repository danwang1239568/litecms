import{u as w,r as i,c as d,w as t,o as r,b as o,z as y,e as l,f,bS as E,E as U,C as A,aS as _,bT as C}from"./index-C_bpROGF.js";import{_ as b,E as x}from"./_plugin-vue_export-helper-CBPVf6gk.js";import{E as R}from"./el-progress-DyX4yBXU.js";import{p as S}from"./pageContainer-Curg6BTv.js";/* empty css                 */import"./_baseClone-8WbI7nzj.js";import"./isEqual-BezYRF5f.js";import"./el-scrollbar-CZiSsJ31.js";const B=["src"],z={__name:"userAvatar",setup(I){const n=w(),s=i(n.user.avatar),c=i(null);let u=null;const m=a=>{u=a.raw,s.value=URL.createObjectURL(a.raw)},v=async()=>{const a=new FormData;a.append("avatar",u),await E(a),await n.getUser(),U.success("头像更新成功")};return(a,e)=>{const g=A,k=R,p=x;return r(),d(S,{title:"更换头像"},{default:t(()=>[o(k,{class:"avatar-uploader",ref_key:"uploadRef",ref:c,"auto-upload":!1,"show-file-list":!1,"on-change":m},{default:t(()=>[s.value?(r(),y("img",{key:0,src:s.value,class:"avatar"},null,8,B)):(r(),d(g,{key:1,class:"avatar-uploader-icon"},{default:t(()=>[o(l(_))]),_:1}))]),_:1},512),o(p,{onClick:e[0]||(e[0]=L=>c.value.$el.querySelector("input").click()),icon:l(_),type:"primary",size:"large"},{default:t(()=>e[1]||(e[1]=[f("选择图片")])),_:1},8,["icon"]),o(p,{onClick:v,icon:l(C),type:"success",size:"large"},{default:t(()=>e[2]||(e[2]=[f("上传图片")])),_:1},8,["icon"])]),_:1})}}},M=b(z,[["__scopeId","data-v-fd139e65"]]);export{M as default};
