import{$ as y,r as i,j as _,k as t,o as r,S as d,H as o,g as E,h as l,a7 as m,ac as U,a9 as x,E as A,ad as f,ae as B}from"./index-eNiykY21.js";import{E as R}from"./el-button-DHmMqvAQ.js";import{E as b}from"./el-progress-DcG9rHyn.js";import{_ as h}from"./pageContainer-Bw58DrDL.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./use-form-item-DUMx8qgi.js";import"./constants-Bb7TdvhW.js";import"./index-r5W6hzzQ.js";import"./_baseClone-CdQybGHQ.js";import"./_initCloneObject-PA-gR-Wq.js";import"./isEqual-DtWtBidg.js";import"./el-scrollbar-CEgIBVoX.js";const S={class:"box"},z=["src"],N={class:"btns"},V={__name:"userAvatar",setup($){const n=y(),s=i(n.user.avatar),c=i(null);let p=null;const v=a=>{p=a.raw,s.value=URL.createObjectURL(a.raw)},g=async()=>{const a=new FormData;a.append("avatar",p),await U(a),await n.getUser(),x.success("头像更新成功")};return(a,e)=>{const k=A,w=b,u=R;return r(),_(h,{title:"更换头像"},{default:t(()=>[d("div",S,[o(w,{class:"avatar-uploader",ref_key:"uploadRef",ref:c,"auto-upload":!1,"show-file-list":!1,"on-change":v},{default:t(()=>[s.value?(r(),E("img",{key:0,src:s.value,class:"avatar"},null,8,z)):(r(),_(k,{key:1,size:100},{default:t(()=>[o(l(f))]),_:1}))]),_:1},512),d("div",N,[o(u,{onClick:e[0]||(e[0]=j=>c.value.$el.querySelector("input").click()),icon:l(f),type:"primary",size:"large"},{default:t(()=>e[1]||(e[1]=[m("选择图片")])),_:1},8,["icon"]),o(u,{onClick:g,icon:l(B),type:"success",size:"large"},{default:t(()=>e[2]||(e[2]=[m("上传图片")])),_:1},8,["icon"])])])]),_:1})}}},P=C(V,[["__scopeId","data-v-2d04f504"]]);export{P as default};
