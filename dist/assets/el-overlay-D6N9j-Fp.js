import{b as T,a as _,d as B,bb as $,bc as Z,r as c,bd as j,f as D,w as x,A as q,R as G,be as H,s as J,as as I,aL as K,L as Q}from"./index-eNiykY21.js";import{U as F}from"./event-HEVJa2N9.js";import{u as P}from"./constants-Bb7TdvhW.js";import{c as W}from"./index-T0t5jjV0.js";import{i as X}from"./el-tooltip-BEF87Ag-.js";const Y=T({center:Boolean,alignCenter:Boolean,closeIcon:{type:_},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),ae={close:()=>!0},se=T({...Y,appendToBody:Boolean,appendTo:{type:B([String,Object]),default:"body"},beforeClose:{type:B(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"}}),ue={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[F]:e=>$(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},ie=(e,a)=>{var m;const l=G().emit,{nextZIndex:b}=Z();let C="";const O=P(),S=P(),n=c(!1),r=c(!1),i=c(!1),d=c((m=e.zIndex)!=null?m:b());let s,u;const h=j("namespace",H),A=D(()=>{const o={},t=`--${h.value}-dialog`;return e.fullscreen||(e.top&&(o[`${t}-margin-top`]=e.top),e.width&&(o[`${t}-width`]=J(e.width))),o}),E=D(()=>e.alignCenter?{display:"flex"}:{});function w(){l("opened")}function L(){l("closed"),l(F,!1),e.destroyOnClose&&(i.value=!1)}function k(){l("close")}function p(){u==null||u(),s==null||s(),e.openDelay&&e.openDelay>0?{stop:s}=I(()=>g(),e.openDelay):g()}function f(){s==null||s(),u==null||u(),e.closeDelay&&e.closeDelay>0?{stop:u}=I(()=>v(),e.closeDelay):v()}function y(){function o(t){t||(r.value=!0,n.value=!1)}e.beforeClose?e.beforeClose(o):f()}function N(){e.closeOnClickModal&&y()}function g(){K&&(n.value=!0)}function v(){n.value=!1}function M(){l("openAutoFocus")}function z(){l("closeAutoFocus")}function U(o){var t;((t=o.detail)==null?void 0:t.focusReason)==="pointer"&&o.preventDefault()}e.lockScroll&&W(n);function V(){e.closeOnPressEscape&&y()}return x(()=>e.modelValue,o=>{o?(r.value=!1,p(),i.value=!0,d.value=X(e.zIndex)?b():d.value++,Q(()=>{l("open"),a.value&&(a.value.scrollTop=0)})):n.value&&f()}),x(()=>e.fullscreen,o=>{a.value&&(o?(C=a.value.style.transform,a.value.style.transform=""):a.value.style.transform=C)}),q(()=>{e.modelValue&&(n.value=!0,i.value=!0,p())}),{afterEnter:w,afterLeave:L,beforeLeave:k,handleClose:y,onModalClick:N,close:f,doClose:v,onOpenAutoFocus:M,onCloseAutoFocus:z,onCloseRequested:V,onFocusoutPrevented:U,titleId:O,bodyId:S,closed:r,style:A,overlayDialogStyle:E,rendered:i,visible:n,zIndex:d}};export{ae as a,se as b,ue as c,Y as d,ie as u};
