import{u as _,r as n,c as g,w as r,o as b,b as e,f as V,bK as k,E as v}from"./index-C_bpROGF.js";import{E,a as w}from"./el-form-item-BcP7L3nL.js";import{E as U}from"./_plugin-vue_export-helper-CBPVf6gk.js";import{E as x}from"./el-input-CBmRvMQY.js";import{p as y}from"./pageContainer-Curg6BTv.js";import"./_baseClone-8WbI7nzj.js";import"./el-scrollbar-CZiSsJ31.js";const D={__name:"userProfile",setup(B){const t=_(),i=async()=>{await t.getUser(),console.log(t.user)},a=n({id:t.user.id,username:t.user.username,nickname:t.user.nickname,email:t.user.email});i();const m=n(null),p={nickname:[{required:!0,message:"请输入用户昵称",trigger:"blur"},{min:2,max:20,message:"长度在 2 到 20 个字符",trigger:"blur"}],email:[{required:!0,message:"请输入用户邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱格式",trigger:"blur"}]},d=async()=>{await m.value.validate(),await k(a.value),await t.getUser(),v.success("成功更新用户信息")};return(C,l)=>{const u=x,s=E,f=U,c=w;return b(),g(y,{title:"基本资料"},{default:r(()=>[e(c,{model:a.value,rules:p,ref_key:"formRef",ref:m,"label-width":"100px",style:{width:"600px"}},{default:r(()=>[e(s,{label:"登录名称",prop:"username"},{default:r(()=>[e(u,{disabled:"",modelValue:a.value.username,"onUpdate:modelValue":l[0]||(l[0]=o=>a.value.username=o)},null,8,["modelValue"])]),_:1}),e(s,{label:"用户昵称",prop:"nickname"},{default:r(()=>[e(u,{modelValue:a.value.nickname,"onUpdate:modelValue":l[1]||(l[1]=o=>a.value.nickname=o)},null,8,["modelValue"])]),_:1}),e(s,{label:"用户邮箱",prop:"email"},{default:r(()=>[e(u,{modelValue:a.value.email,"onUpdate:modelValue":l[2]||(l[2]=o=>a.value.email=o)},null,8,["modelValue"])]),_:1}),e(s,null,{default:r(()=>[e(f,{type:"primary",onClick:d},{default:r(()=>l[3]||(l[3]=[V("提交修改")])),_:1})]),_:1})]),_:1},8,["model"])]),_:1})}}};export{D as default};
